#!/bin/bash

sudo apt update && sudo apt upgrade -y
sudo apt install software-properties-common -y
sudo add-apt-repository ppa:deadsnakes/ppa -y
sudo apt install \
    vim\
    git\
    zsh\
    npm\
    curl\
    cmake\
    golang-go\
    python3.10\
    python3-dev\
    python3-pip\
    default-jdk\
    build-essential\
    chromium-browser\
    -y

sudo update-alternatives --install /usr/local/bin/python3 python3 $(which python3.10) 1

git config --global user.email "shanemcdman@gmail.com"
git config --global user.name "Shane McDonough"

# install rust
curl https://sh.rustup.rs | sh

# clone dotfiles
git clone --branch ubuntu https://github.com/KermitPurple/dotfiles.git $HOME/dotfiles

# create symbolic links
ln -s $HOME/dotfiles/vim $HOME/.vim
ln -s $HOME/dotfiles/zsh/zshrc $HOME/.zshrc
ln -s $HOME/dotfiles/zsh/zshenv $HOME/.zshenv
ln -s $HOME/dotfiles/skhd/skhdrc $HOME/.skhdrc
ln -s $HOME/dotfiles/nvim/ $HOME/.config/nvim

# make vim trash files
mkdir $HOME/dotfiles/vim/{trash,views}

# install vim plugins
vim -c "PlugInstall" \
    -c "qa!"
# below requires go and cmake
/usr/bin/python3 $HOME/dotfiles/vim/plugged/YouCompleteMe/install.py --all

# pip3 install virtualenv

# reinstall script requirements
# . ~/.zshenv
# $HOME/dotfiles/clone_reqs
